

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installing Extempore &mdash; Extempore 0.7.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Extempore 0.7.0 documentation" href="index.html"/>
        <link rel="next" title="Text editors" href="editor-support.html"/>
        <link rel="prev" title="quickstart" href="quickstart.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Extempore
          

          
          </a>

          
            
            
              <div class="version">
                0.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Getting started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">quickstart</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installing Extempore</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#download-a-pre-built-binary">Download a pre-built binary</a></li>
<li class="toctree-l2"><a class="reference internal" href="#build-from-source">Build from source</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#options-variables-and-targets">Options, Variables and Targets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cmake-options">CMake options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#variables">Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="#targets">Targets</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#platform-specific-notes">Platform-specific notes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#osx">OSX</a></li>
<li class="toctree-l4"><a class="reference internal" href="#linux">Linux</a></li>
<li class="toctree-l4"><a class="reference internal" href="#windows">Windows</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#shared-library-dependencies">Shared library dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#llvm-3-7-0">LLVM 3.7.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-through-homebrew-osx-only">Install through homebrew (OSX-only)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="editor-support.html">Text editors</a></li>
<li class="toctree-l1"><a class="reference internal" href="about-this-documentation.html">About this documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Key concepts</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="philosophy.html">The Extempore philosophy</a></li>
<li class="toctree-l1"><a class="reference internal" href="caas.html">Interacting with the Extempore Compiler</a></li>
<li class="toctree-l1"><a class="reference internal" href="time.html">Time in Extempore</a></li>
<li class="toctree-l1"><a class="reference internal" href="c-xtlang-interop.html">C-xtlang interop</a></li>
<li class="toctree-l1"><a class="reference internal" href="scheme-xtlang-interop.html">Scheme-xtlang interop</a></li>
<li class="toctree-l1"><a class="reference internal" href="concurrency.html">Concurrency</a></li>
<li class="toctree-l1"><a class="reference internal" href="memory.html">Memory management in Extempore</a></li>
</ul>
<p class="caption"><span class="caption-text">xtlang</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="types.html">xtlang types</a></li>
<li class="toctree-l1"><a class="reference internal" href="types.html#primitive-types">Primitive types</a></li>
<li class="toctree-l1"><a class="reference internal" href="types.html#aggregate-types">Aggregate types</a></li>
<li class="toctree-l1"><a class="reference internal" href="types.html#named-types">Named types</a></li>
<li class="toctree-l1"><a class="reference internal" href="types.html#generics">Generics</a></li>
<li class="toctree-l1"><a class="reference internal" href="type-inference.html">Type inferencing</a></li>
<li class="toctree-l1"><a class="reference internal" href="best-practices.html">Best practices</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials &amp; Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="audio-signal-processing.html">Audio signal processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="making-an-instrument.html">Making an instrument</a></li>
<li class="toctree-l1"><a class="reference internal" href="note-level-music.html">Playing an instrument</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-lisp-music.html">&#8220;Common Lisp Music&#8221;-style example</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampler.html">Loading and using a sampler</a></li>
<li class="toctree-l1"><a class="reference internal" href="graphics.html">Graphics</a></li>
<li class="toctree-l1"><a class="reference internal" href="impromptu-users.html">Extempore for Impromptu users</a></li>
</ul>
<p class="caption"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting-help.html">Getting Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Unit testing in Extempore</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Extempore</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Installing Extempore</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/install.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installing-extempore">
<h1>Installing Extempore<a class="headerlink" href="#installing-extempore" title="Permalink to this headline">¶</a></h1>
<p>When we talk about <em>installing</em> extempore, there are few steps to it:</p>
<ol class="arabic simple">
<li>building the <code class="docutils literal"><span class="pre">extempore</span></code> executable and putting it somewhere your
system can find it (e.g. on your <code class="docutils literal"><span class="pre">PATH</span></code>)</li>
<li>getting a bunch of helpful libraries which provide <em>extended</em>
functionality (e.g. for audiofile I/O, FFTs, graphics)</li>
<li>ahead-of-time (AOT) compiling the Extempore standard library, so
that things load up much quicker when you start Extempore</li>
</ol>
<p>In general, it&#8217;s nice to have all of these things, although
technically you really only need step 1 to start writing xtlang code.
Most of these instructions will do all three steps by default, with
comments about there are ways to tailor your install if you want
something different.</p>
<div class="section" id="download-a-pre-built-binary">
<h2>Download a pre-built binary<a class="headerlink" href="#download-a-pre-built-binary" title="Permalink to this headline">¶</a></h2>
<p>Download a <a class="reference external" href="https://github.com/digego/extempore/releases">binary release</a>, unzip it and run <code class="docutils literal"><span class="pre">extempore.exe</span></code>
from inside the <code class="docutils literal"><span class="pre">extempore</span></code> folder.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you&#8217;re not planning to make changes to Extempore itself,
then downloading a binary is probably the best option. You
can still write your own xtlang code, run the examples, etc.</p>
</div>
</div>
<div class="section" id="build-from-source">
<span id="build-from-source-doc"></span><h2>Build from source<a class="headerlink" href="#build-from-source" title="Permalink to this headline">¶</a></h2>
<p>The build-from-source workflow will download and build all the
dependencies you need (including LLVM). So, if you&#8217;ve got a C++
compiler (for <code class="docutils literal"><span class="pre">gcc</span></code>, version 4.9 or later is required), git and CMake
(and an <a class="reference internal" href="#linux-portaudio-backend-instructions"><span class="std std-ref">ALSA backend</span></a> on
Linux) then here are some one-liner build commands:</p>
<p>On <strong>Linux/OSX</strong>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">digego</span><span class="o">/</span><span class="n">extempore</span> <span class="o">&amp;&amp;</span> <span class="n">mkdir</span> <span class="n">extempore</span><span class="o">/</span><span class="n">cmake</span><span class="o">-</span><span class="n">build</span> <span class="o">&amp;&amp;</span> <span class="n">cd</span> <span class="n">extempore</span><span class="o">/</span><span class="n">cmake</span><span class="o">-</span><span class="n">build</span> <span class="o">&amp;&amp;</span> <span class="n">cmake</span> <span class="o">..</span> <span class="o">&amp;&amp;</span> <span class="n">make</span> <span class="n">install</span>
</pre></div>
</div>
<p>On <strong>Windows</strong>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">digego</span><span class="o">/</span><span class="n">extempore</span> <span class="o">&amp;&amp;</span> <span class="n">mkdir</span> <span class="n">extempore</span><span class="o">/</span><span class="n">cmake</span><span class="o">-</span><span class="n">build</span> <span class="o">&amp;&amp;</span> <span class="n">cd</span> <span class="n">extempore</span><span class="o">/</span><span class="n">cmake</span><span class="o">-</span><span class="n">build</span> <span class="o">&amp;&amp;</span> <span class="n">cmake</span> <span class="o">-</span><span class="n">G</span><span class="s2">&quot;Visual Studio 14 2015 Win64&quot;</span> <span class="o">..</span> <span class="o">&amp;&amp;</span> <span class="n">cmake</span> <span class="o">--</span><span class="n">build</span> <span class="o">.</span> <span class="o">--</span><span class="n">target</span> <span class="n">ALL_BUILD</span> <span class="o">--</span><span class="n">config</span> <span class="n">Release</span>
</pre></div>
</div>
<p>If you have problems, check out the <a class="reference internal" href="#platform-specific-build-docs"><span class="std std-ref">platform-specific notes
below</span></a>.</p>
<div class="section" id="options-variables-and-targets">
<h3>Options, Variables and Targets<a class="headerlink" href="#options-variables-and-targets" title="Permalink to this headline">¶</a></h3>
<p>Some info about a few of the more interesting CMake options, variables
and build targets:</p>
<div class="section" id="cmake-options">
<h4>CMake options<a class="headerlink" href="#cmake-options" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>BUILD_DEPS:BOOL (default ON)</dt>
<dd>controls whether or not the build process will also download and
build the extended libraries (e.g. glfw, libsndfile). If you want to
get those things through another package manager (or not use them at
all) then set this to <code class="docutils literal"><span class="pre">OFF</span></code>.</dd>
<dt>PACKAGE:BOOL (default OFF)</dt>
<dd><p class="first">when true, build Extempore (including all extended deps and
AOT-compilation) for binary distribution, e.g.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="o">-</span><span class="n">DPACKAGE</span><span class="o">=</span><span class="n">ON</span> <span class="o">..</span> <span class="o">&amp;&amp;</span> <span class="n">make</span> <span class="n">package</span>
</pre></div>
</div>
<p class="last">The main effect of this flag is to disable processor-specific
optimisations for all the build commands, which gives you the best
chance of producing a portable binary. This option also adds a
<code class="docutils literal"><span class="pre">package</span></code> target to the makefile/solution, which can be used to
actually generate the zipfile/dmg/deb.</p>
</dd>
</dl>
</div>
<div class="section" id="variables">
<h4>Variables<a class="headerlink" href="#variables" title="Permalink to this headline">¶</a></h4>
<dl class="docutils">
<dt>EXT_LLVM_DIR (environment variable)</dt>
<dd>in the bad old days, the Extempore build process relied on this
(system) environment variable a lot, but currently it&#8217;s only useful
if you want to build LLVM yourself (rather than having it done
automatically) - so unless you want to do that you can just ignore
it.</dd>
</dl>
</div>
<div class="section" id="targets">
<h4>Targets<a class="headerlink" href="#targets" title="Permalink to this headline">¶</a></h4>
<p>The default target will build Extempore, all the dependencies, and
AOT-compile the standard library. Still, in other situations the
following targets might come in handy:</p>
<dl class="docutils">
<dt>install</dt>
<dd>On OSX/Linux, move the extempore executable to <code class="docutils literal"><span class="pre">/usr/local/bin</span></code>
(or similar) and the rest of the Extempore share directory to
<code class="docutils literal"><span class="pre">/usr/local/share/extempore</span></code>. Does nothing on Windows.</dd>
<dt>aot_extended</dt>
<dd>AOT-compile the full standard library</dd>
<dt>aot</dt>
<dd>AOT-compile just the core standard library - i.e. the pure-xtlang
libraries with no external C library dependencies</dd>
<dt>clean_aot</dt>
<dd>remove all AOT-compiled files</dd>
<dt>extempore</dt>
<dd>build just the extempore executable</dd>
<dt>assets</dt>
<dd>download the assets e.g. sound files, 3D model files which are
referenced in the examples</dd>
</dl>
</div>
</div>
<div class="section" id="platform-specific-notes">
<span id="platform-specific-build-docs"></span><h3>Platform-specific notes<a class="headerlink" href="#platform-specific-notes" title="Permalink to this headline">¶</a></h3>
<div class="section" id="osx">
<h4>OSX<a class="headerlink" href="#osx" title="Permalink to this headline">¶</a></h4>
<p>Extempore should build with clang or gcc, the easiest way to get these
is through Xcode or the <a class="reference external" href="https://developer.apple.com/library/ios/technotes/tn2339/_index.html#//apple_ref/doc/uid/DTS40014588-CH1-WHAT_IS_THE_COMMAND_LINE_TOOLS_PACKAGE_">command line tools</a>.</p>
</div>
<div class="section" id="linux">
<h4>Linux<a class="headerlink" href="#linux" title="Permalink to this headline">¶</a></h4>
<p>Extempore is most tested on Ubuntu, but is also known to work with
Debian, Fedora, Arch, and also inside a docker container.</p>
<p>There are a few extra dependencies which you may need to get through
your package manager. For example, on Ubuntu 16.04 I needed:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">libasound2</span><span class="o">-</span><span class="n">dev</span> <span class="n">xorg</span><span class="o">-</span><span class="n">dev</span> <span class="n">libglu1</span><span class="o">-</span><span class="n">mesa</span><span class="o">-</span><span class="n">dev</span> <span class="n">zlib1g</span><span class="o">-</span><span class="n">dev</span>
</pre></div>
</div>
<p id="linux-portaudio-backend-instructions">You&#8217;ll also need to specify an <a class="reference external" href="http://www.alsa-project.org/">ALSA</a> backend for portaudio.</p>
<dl class="docutils">
<dt>ALSA</dt>
<dd>To use the asound portaudio backend (the default) you&#8217;ll need the
libasound package. This might have a slightly different name on different
distros, e.g. on Mint 18 it&#8217;s called <code class="docutils literal"><span class="pre">libasound2-dev</span></code></dd>
<dt>Jack</dt>
<dd>To use the <a class="reference external" href="http://www.jackaudio.org/">Jack</a> portaudio backend, you&#8217;ll need to have Jack
installed, and then to set the <code class="docutils literal"><span class="pre">JACK</span></code> CMake option with <code class="docutils literal"><span class="pre">-DJACK=ON</span></code>.</dd>
</dl>
</div>
<div class="section" id="windows">
<h4>Windows<a class="headerlink" href="#windows" title="Permalink to this headline">¶</a></h4>
<p>Extempore has been tested on Windows 7 &amp; Windows 10 with <a class="reference external" href="https://www.visualstudio.com/en-us/products/visual-studio-community-vs.aspx">Visual Studio Community 2015</a></p>
<p>If you don&#8217;t want to take the command-line described above, note that
CMake generates a Visual Studio solution (<code class="docutils literal"><span class="pre">.sln</span></code>), so just open that
and build the <code class="docutils literal"><span class="pre">ALL_BUILD</span></code> target.</p>
<p>On Windows, Extempore requires a few components of the <strong>Boost</strong> 1.59
libs for TCP/UDP handling. These will be automatically downloaded for
you if you&#8217;ve got the <a class="reference external" href="chocoinstallnuget.commandline">nuget command line tool</a> installed, or if you
want to build boost yourself (remember to keep the labyrinthine boost
directory structure intact) just tell the build process where it is
using the <code class="docutils literal"><span class="pre">BOOST_DIR</span></code> CMake variable.</p>
<p>If you want to use the <strong>ASIO</strong> audio backend on Windows (which might
give you lower-latency audio, but is not essential) you need to
download the <a class="reference external" href="http://www.steinberg.net/nc/en/company/developer/sdk_download_portal.html">ASIO SDK</a> from Steinberg. You have to create a <a class="reference external" href="http://www.steinberg.net/nc/en/company/developer/sdk_download_portal/create_3rd_party_developer_account.html">third
party developer account</a>, then you can log in and download the ASIO
SDK (make sure you get the right SDK). You also need to download and
install <a class="reference external" href="http://www.asio4all.com/">ASIO4ALL</a> with the &#8216;offline setup panel&#8217; option enabled.
After that, copy the ASIO files into the
<code class="docutils literal"><span class="pre">src/portaudio/src/hostapi/asio</span></code>, and use the <code class="docutils literal"><span class="pre">-DASIO=ON</span></code> CMake
option.</p>
<p>The one caveat to the &#8220;extempore will download and build all the
extended dependencies you need&#8221; is the <strong>libsndfile</strong> <code class="docutils literal"><span class="pre">.lib</span></code> and
<code class="docutils literal"><span class="pre">.dll</span></code>. Currentyl, you need to manually get them from here <a class="reference external" href="http://www.mega-nerd.com/libsndfile/#Download">here</a>
and move them into <code class="docutils literal"><span class="pre">libs/platform-shlibs</span></code> (or if anyone can figure
out how to build a 64-bit libsndfile on Windows in a sane way then let
me know).</p>
</div>
</div>
</div>
<div class="section" id="shared-library-dependencies">
<span id="install-extended-doc"></span><h2>Shared library dependencies<a class="headerlink" href="#shared-library-dependencies" title="Permalink to this headline">¶</a></h2>
<p>The full list of external libraries required for the Extempore
standard library are:</p>
<ul class="simple">
<li>apr 1.5.2</li>
<li>assimp 3.2</li>
<li>expat 2.1.0</li>
<li>glfw3 3.1.2</li>
<li>kiss_fft 1.3.0</li>
<li>nanovg</li>
<li>portmidi 217</li>
<li>sndfile 1.0.26</li>
<li>stb_image</li>
</ul>
<p>For those who are interested, there are a few reasons that Extempore
builds and maintains its own &#8220;world&#8221; of shared lib dependencies:</p>
<ol class="arabic simple">
<li>there&#8217;s no lib path on <strong>Windows</strong>, so it&#8217;s up to each program to
make sure it ships with the dlls it needs (and knows where to find
them)</li>
<li>library <strong>versioning</strong> is a bit of a mess at the best of times, so
by building specific versions of e.g. GLFW or assimp, Extempore can
guarantee that the bindings will work - otherwise you&#8217;ll get weird
errors.</li>
<li>for <strong>packaging</strong> (as described above in the note on the
<code class="docutils literal"><span class="pre">PACKAGE</span></code> variable) it&#8217;s important to turn off all cpu-specific
optimisations, and set various compiler flags. Packages installed
through a package manager don&#8217;t do this, and so when building e.g.
a dmg for distribution on OSX it&#8217;s necessary to make sure any
compiled objects (including dependencies and Extempore itself) have
been compiled with the right flags.</li>
</ol>
<p>Still, if you&#8217;re keen to get these libraries some other way (e.g.
through your system-provided package manager) then that&#8217;s fine - just
use <code class="docutils literal"><span class="pre">-DBUILD_DEPS=OFF</span></code>.</p>
</div>
<div class="section" id="llvm-3-7-0">
<h2>LLVM 3.7.0<a class="headerlink" href="#llvm-3-7-0" title="Permalink to this headline">¶</a></h2>
<p>If you don&#8217;t have an <code class="docutils literal"><span class="pre">EXT_LLVM_DIR</span></code> environment variable set on your
system, then Extempore will download, patch and build LLVM 3.7.0 for
you as part of the <code class="docutils literal"><span class="pre">make</span> <span class="pre">extempore</span></code> step. However, if you do want to
build it yourself, then here&#8217;s how.</p>
<p>Grab the <a class="reference external" href="http://llvm.org/releases/download.html#3.7.0">3.7.0 source tarball</a>, apply the
<code class="docutils literal"><span class="pre">extempore-llvm-3.7.0.patch</span></code> in <code class="docutils literal"><span class="pre">extras/</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">llvm</span><span class="o">-</span><span class="mf">3.7</span><span class="o">.</span><span class="mf">0.</span><span class="n">src</span>
<span class="n">patch</span> <span class="o">-</span><span class="n">p0</span> <span class="o">&lt;</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">extempore</span><span class="o">/</span><span class="n">extras</span><span class="o">/</span><span class="n">extempore</span><span class="o">-</span><span class="n">llvm</span><span class="o">-</span><span class="mf">3.7</span><span class="o">.</span><span class="mf">0.</span><span class="n">patch</span>
</pre></div>
</div>
<p>On <strong>Windows</strong>, the <code class="docutils literal"><span class="pre">&lt;</span></code> redirection will work with <code class="docutils literal"><span class="pre">cmd.exe</span></code>, but
not PowerShell.</p>
<p>Then build LLVM, moving the libraries into <code class="docutils literal"><span class="pre">/path/to/extempore/llvm</span></code>
as part of the <code class="docutils literal"><span class="pre">install</span></code> step:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="n">cmake</span><span class="o">-</span><span class="n">build</span> <span class="o">&amp;&amp;</span> <span class="n">cd</span> <span class="n">cmake</span><span class="o">-</span><span class="n">build</span>
<span class="n">cmake</span> <span class="o">-</span><span class="n">DCMAKE_BUILD_TYPE</span><span class="o">=</span><span class="n">Release</span> <span class="o">-</span><span class="n">DLLVM_TARGETS_TO_BUILD</span><span class="o">=</span><span class="n">X86</span> <span class="o">-</span><span class="n">DLLVM_ENABLE_TERMINFO</span><span class="o">=</span><span class="n">OFF</span> <span class="o">-</span><span class="n">DLLVM_ENABLE_ZLIB</span><span class="o">=</span><span class="n">OFF</span> <span class="o">-</span><span class="n">DCMAKE_INSTALL_PREFIX</span><span class="o">=</span><span class="n">c</span><span class="p">:</span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">extempore</span><span class="o">/</span><span class="n">llvm</span> <span class="o">..</span> <span class="o">&amp;&amp;</span> <span class="n">make</span> <span class="o">&amp;&amp;</span> <span class="n">make</span> <span class="n">install</span>
</pre></div>
</div>
<p>On <strong>Windows</strong>, you&#8217;ll also need to specify a 64-bit generator e.g.
<code class="docutils literal"><span class="pre">-G&quot;Visual</span> <span class="pre">Studio</span> <span class="pre">14</span> <span class="pre">2015</span> <span class="pre">Win64&quot;</span></code></p>
<p>To build, open the <code class="docutils literal"><span class="pre">Extempore.sln</span></code> file and build the <code class="docutils literal"><span class="pre">ALL_BUILD</span></code>
target, then the <code class="docutils literal"><span class="pre">INSTALL</span></code> target. If the install step doesn&#8217;t work,
you can try directly calling <code class="docutils literal"><span class="pre">cmake</span> <span class="pre">-P</span> <span class="pre">cmake_install.cmake</span></code> which
should be in the same directory. On Windows, the LLVM build output must
be installed into an <code class="docutils literal"><span class="pre">llvm</span></code> subdirectory in the top-level Extempore
directory (since the AOT compilation process will look in there to find
<code class="docutils literal"><span class="pre">llc</span></code>).</p>
<p>If LLVM complains about not being able to find python, you can specify a
path to your python executable with the PYTHON_EXECUTABLE CMake
variable:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="o">-</span><span class="n">DCMAKE_BUILD_TYPE</span><span class="o">=</span><span class="n">Release</span> <span class="o">-</span><span class="n">DLLVM_TARGETS_TO_BUILD</span><span class="o">=</span><span class="n">X86</span> <span class="o">-</span><span class="n">DLLVM_ENABLE_TERMINFO</span><span class="o">=</span><span class="n">OFF</span> <span class="o">-</span><span class="n">DLLVM_ENABLE_ZLIB</span><span class="o">=</span><span class="n">OFF</span> <span class="o">-</span><span class="n">DCMAKE_INSTALL_PREFIX</span><span class="o">=</span><span class="n">c</span><span class="p">:</span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">extempore</span><span class="o">/</span><span class="n">llvm</span> <span class="o">-</span><span class="n">DPYTHON_EXECUTABLE</span><span class="o">=</span><span class="n">c</span><span class="p">:</span><span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">python</span> <span class="o">..</span> <span class="o">&amp;&amp;</span> <span class="n">make</span> <span class="o">&amp;&amp;</span> <span class="n">make</span> <span class="n">install</span>
</pre></div>
</div>
<p>If you <strong>do</strong> build your own patched version of LLVM for Extempore,
then make sure you set the <code class="docutils literal"><span class="pre">EXT_LLVM_DIR</span></code> environment variable to
point to that directory (where you installed LLVM) so that the
Extempore build process knows where to find it.</p>
</div>
<div class="section" id="install-through-homebrew-osx-only">
<h2>Install through homebrew (OSX-only)<a class="headerlink" href="#install-through-homebrew-osx-only" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As of v0.7.0, the homebrew install process is
deprecated&#8212;since it&#8217;s caught in a weird no-man&#8217;s land
between the easy &#8220;binary download&#8221; and the flexible &#8220;build
from source&#8221; approach. Still, the formula is currently still
in my tap, so these instructions are here for the moment.</p>
</div>
<p><a class="reference external" href="http://brew.sh/">Homebrew</a> makes the process pretty simple, although since it&#8217;s
building everything (including LLVM) from source it may still take up to
15mins depending on your machine.</p>
<p>To install Extempore through homebrew, first:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">tap</span> <span class="n">benswift</span><span class="o">/</span><span class="n">extempore</span> <span class="o">&amp;&amp;</span> <span class="n">brew</span> <span class="n">tap</span> <span class="n">homebrew</span><span class="o">/</span><span class="n">versions</span>
</pre></div>
</div>
<p>then:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">extempore</span> <span class="o">--</span><span class="k">with</span><span class="o">-</span><span class="n">extended</span>
</pre></div>
</div>
<p>or, if you want just the core:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">install</span> <span class="n">extempore</span>
</pre></div>
</div>
<p><strong>Caveats</strong></p>
<p>If you&#8217;ve installed Extempore through homebrew previously (i.e. if
<code class="docutils literal"><span class="pre">brew</span> <span class="pre">info</span> <span class="pre">extempore</span></code> shows a version &lt;= 0.59) then you&#8217;ll need to
remove a couple of things first:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">rm</span> <span class="n">extempore</span> <span class="n">kissfft</span> <span class="n">libnanovg</span>
</pre></div>
</div>
<p>If you&#8217;re on OSX 10.9 or earlier, there&#8217;s an incompatibility with your
version of clang and the LLVM 3.7.0 which Extempore uses. For the
moment the easiest way around this is to download the old 0.5.9
release of Extempore with:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">brew</span> <span class="n">tap</span> <span class="n">benswift</span><span class="o">/</span><span class="n">extempore</span>
<span class="n">brew</span> <span class="n">install</span> <span class="n">extempore059</span> <span class="o">--</span><span class="k">with</span><span class="o">-</span><span class="n">extended</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="editor-support.html" class="btn btn-neutral float-right" title="Text editors" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="quickstart.html" class="btn btn-neutral" title="quickstart" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Andrew Sorensen.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.7.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>